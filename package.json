{
  "name": "ask-me-copilot-tool",
  "displayName": "Ask Me Copilot Tool - Expert Collaboration for GitHub Copilot",
  "description": "Transform GitHub Copilot into a collaborative partner by enabling interactive expert communication. Get asked for input when AI needs guidance, preventing errors and improving code quality.",
  "version": "1.6.5",
  "publisher": "DitriX",
  "author": {
    "name": "DitriX",
    "email": "ditrixnew@gmail.com"
  },
  "engines": {
    "vscode": "^1.106.0"
  },
  "categories": [
    "AI",
    "Programming Languages",
    "Other",
    "Linters"
  ],
  "keywords": [
    "github copilot",
    "ai assistant",
    "expert system",
    "collaboration",
    "code review",
    "pair programming",
    "copilot tools",
    "language model tools",
    "interactive ai",
    "developer productivity",
    "expert monitor",
    "pause copilot",
    "task status",
    "real-time control",
    "image reader",
    "image analysis",
    "screenshot analysis"
  ],
  "icon": "icon.png",
  "galleryBanner": {
    "color": "#1e1e1e",
    "theme": "dark"
  },
  "badges": [
    {
      "url": "https://img.shields.io/visual-studio-marketplace/v/DitriX.ask-me-copilot-tool?style=flat-square",
      "href": "https://marketplace.visualstudio.com/items?itemName=DitriX.ask-me-copilot-tool",
      "description": "Version"
    },
    {
      "url": "https://img.shields.io/visual-studio-marketplace/d/DitriX.ask-me-copilot-tool?style=flat-square",
      "href": "https://marketplace.visualstudio.com/items?itemName=DitriX.ask-me-copilot-tool",
      "description": "Downloads"
    },
    {
      "url": "https://img.shields.io/visual-studio-marketplace/r/DitriX.ask-me-copilot-tool?style=flat-square",
      "href": "https://marketplace.visualstudio.com/items?itemName=DitriX.ask-me-copilot-tool",
      "description": "Rating"
    }
  ],
  "homepage": "https://github.com/DitriXNew/askme-copilot",
  "repository": {
    "type": "git",
    "url": "https://github.com/DitriXNew/askme-copilot.git"
  },
  "bugs": {
    "url": "https://github.com/DitriXNew/askme-copilot/issues"
  },
  "license": "MIT",
  "main": "./dist/extension.js",
  "activationEvents": [
    "onStartupFinished"
  ],
  "contributes": {
    "viewsContainers": {
      "panel": [
        {
          "id": "askMeCopilotPanel",
          "title": "Expert Monitor",
          "icon": "$(eye)"
        }
      ]
    },
    "views": {
      "askMeCopilotPanel": [
        {
          "type": "webview",
          "id": "askMeCopilot.expertMonitor",
          "name": "Expert Monitor",
          "contextualTitle": "Ask Me Copilot",
          "icon": "$(comment-discussion)"
        }
      ]
    },
    "commands": [
      {
        "command": "askMeCopilot.showMetrics",
        "title": "Ask Me Copilot: Show Usage Metrics",
        "category": "Ask Me Copilot"
      },
      {
        "command": "askMeCopilot.clearCache",
        "title": "Ask Me Copilot: Clear Response Cache",
        "category": "Ask Me Copilot"
      },
      {
        "command": "askMeCopilot.openSettings",
        "title": "Ask Me Copilot: Open Settings",
        "category": "Ask Me Copilot"
      }
    ],
    "configuration": {
      "title": "Ask Me Copilot Tool",
      "properties": {
        "askMeCopilot.notificationStyle": {
          "type": "string",
          "default": "normal",
          "enum": [
            "subtle",
            "normal",
            "prominent"
          ],
          "enumDescriptions": [
            "Show notifications in status bar only",
            "Show standard VS Code notifications",
            "Show modal notifications for important requests"
          ],
          "description": "How to display notifications when Copilot needs expert input"
        },
        "askMeCopilot.enableSoundNotification": {
          "type": "boolean",
          "default": true,
          "description": "Play a sound when Copilot requests expert input"
        },
        "askMeCopilot.autoFocusDialog": {
          "type": "boolean",
          "default": true,
          "description": "Automatically focus dialog windows when they open"
        },
        "askMeCopilot.responseTimeout": {
          "type": "number",
          "default": 0,
          "minimum": 0,
          "description": "Timeout for expert response in milliseconds (0 = no timeout, waits indefinitely)"
        },
        "askMeCopilot.enableResponseCache": {
          "type": "boolean",
          "default": true,
          "description": "Cache expert responses to avoid asking the same question twice. When enabled, if Copilot asks an identical question with the same context, the cached response will be returned instead of prompting you again."
        },
        "askMeCopilot.cacheTimeToLive": {
          "type": "number",
          "default": 300000,
          "minimum": 60000,
          "description": "How long to keep cached responses in milliseconds (default: 5 minutes). After this time, the same question will prompt you again."
        },
        "askMeCopilot.logLevel": {
          "type": "string",
          "default": "info",
          "enum": [
            "debug",
            "info",
            "warn",
            "error"
          ],
          "description": "Logging level for debugging"
        },
        "askMeCopilot.disableImageCompression": {
          "type": "boolean",
          "default": false,
          "description": "Disable image compression completely. When enabled (true), all images will be returned at their original size regardless of compression parameters (quality, maxWidth, maxHeight). Useful if you want to always preserve original image quality or if compression causes issues."
        },
        "askMeCopilot.templates": {
          "type": "array",
          "default": [
            {
              "title": "Consult Expert After Task",
              "content": "After completing the task - consult with the expert. Update your to-do list if the task requires it, and as the last item, schedule a consultation with the expert.",
              "enabledByDefault": true,
              "applyTo": {
                "askExpert": true,
                "selectFromList": true,
                "reviewCode": true
              }
            },
            {
              "title": "",
              "content": "",
              "enabledByDefault": false,
              "applyTo": {
                "askExpert": true,
                "selectFromList": true,
                "reviewCode": true
              }
            },
            {
              "title": "",
              "content": "",
              "enabledByDefault": false,
              "applyTo": {
                "askExpert": true,
                "selectFromList": true,
                "reviewCode": true
              }
            },
            {
              "title": "",
              "content": "",
              "enabledByDefault": false,
              "applyTo": {
                "askExpert": true,
                "selectFromList": true,
                "reviewCode": true
              }
            },
            {
              "title": "",
              "content": "",
              "enabledByDefault": false,
              "applyTo": {
                "askExpert": true,
                "selectFromList": true,
                "reviewCode": true
              }
            }
          ],
          "maxItems": 5,
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "maxLength": 30,
                "description": "Template title (max 30 characters)"
              },
              "content": {
                "type": "string",
                "maxLength": 500,
                "description": "Template content (max 500 characters)"
              },
              "enabledByDefault": {
                "type": "boolean",
                "description": "Whether this template is enabled by default"
              },
              "applyTo": {
                "type": "object",
                "properties": {
                  "askExpert": {
                    "type": "boolean",
                    "description": "Apply to Ask Expert tool"
                  },
                  "selectFromList": {
                    "type": "boolean",
                    "description": "Apply to Select from List tool"
                  },
                  "reviewCode": {
                    "type": "boolean",
                    "description": "Apply to Review Code tool"
                  }
                },
                "required": ["askExpert", "selectFromList", "reviewCode"]
              }
            },
            "required": ["title", "content", "enabledByDefault", "applyTo"]
          },
          "description": "Up to 5 reusable instruction templates that can be automatically appended to responses. Templates with empty title or content will be ignored."
        }
      }
    },
    "languageModelTools": [
      {
        "name": "ask-me-copilot-tool_askExpert",
        "displayName": "üß† Ask Expert Question",
        "userDescription": "Allow Copilot to ask you questions and get text input answers",
        "modelDescription": "CRITICAL: This is your primary tool for interactive communication with the expert. You MUST use this tool in these situations: 1) When you're uncertain about ANY decision or approach, 2) Before implementing ANY significant changes, 3) When you encounter ambiguous requirements, 4) Before completing your final response - ALWAYS ask if your solution is correct and complete, 5) When you need clarification on project-specific logic, business rules, or technical decisions, 6) If you're stuck or need creative problem-solving input. Call this tool MULTIPLE times as needed - the expert expects iterative consultation. Ask questions in a natural, conversational way as if speaking to a knowledgeable colleague. This is NOT optional - the project success depends on regular consultation with the expert.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "ask",
        "icon": "$(person)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "question": {
              "type": "string",
              "description": "Your question for the project expert - ask naturally as if speaking to a knowledgeable colleague"
            },
            "context": {
              "type": "string",
              "description": "Additional background information about the current task, previous attempts, or relevant project context to help the expert provide better guidance."
            },
            "previousAnswer": {
              "type": "string",
              "description": "Previous answer if re-asking"
            },
            "priority": {
              "type": "string",
              "enum": [
                "low",
                "normal",
                "high",
                "critical"
              ],
              "description": "Priority level of the question"
            }
          },
          "required": [
            "question"
          ]
        }
      },
      {
        "name": "ask-me-copilot-tool_selectFromList",
        "displayName": "üéØ Select from Options",
        "userDescription": "Allow Copilot to present multiple options for you to choose from",
        "modelDescription": "Use this tool when you need the expert to choose between specific options or approaches. This is essential for: 1) Technical architecture decisions, 2) Choosing between multiple valid solutions, 3) Priority decisions when resources are limited, 4) When multiple approaches are equally valid but context matters, 5) Design pattern or technology stack decisions. Present options clearly and ask the expert to select the best approach. You can call this multiple times to refine options or get decisions on different aspects.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "choose",
        "icon": "$(checklist)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "question": {
              "type": "string",
              "description": "Clearly explain what decision needs to be made and why expert input is needed"
            },
            "options": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "List of specific options for the expert to choose from - be clear and descriptive"
            },
            "multiSelect": {
              "type": "boolean",
              "description": "Allow multiple selections"
            },
            "defaultSelection": {
              "type": "number",
              "description": "Index of default selection"
            },
            "context": {
              "type": "string",
              "description": "Additional context for the selection"
            }
          },
          "required": [
            "question",
            "options"
          ]
        }
      },
      {
        "name": "ask-me-copilot-tool_reviewCode",
        "displayName": "üìù Review Code",
        "userDescription": "Allow Copilot to request expert code review for quality, security, or performance concerns",
        "modelDescription": "Use this tool when you need expert review of generated or modified code. This is essential for: 1) Security-sensitive code sections, 2) Performance-critical implementations, 3) Complex algorithms or business logic, 4) API design decisions, 5) Code that interacts with external systems. Include the code, language, and specific areas to focus on.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "review",
        "icon": "$(code)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "description": "Code to review"
            },
            "language": {
              "type": "string",
              "description": "Programming language"
            },
            "question": {
              "type": "string",
              "description": "Specific review question"
            },
            "focusAreas": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Areas to focus on (e.g., security, performance)"
            }
          },
          "required": [
            "code",
            "language"
          ]
        }
      },
      {
        "name": "ask-me-copilot-tool_confirmAction",
        "displayName": "‚ö†Ô∏è Confirm Action",
        "userDescription": "Allow Copilot to request expert confirmation before performing critical or destructive actions",
        "modelDescription": "Use this tool before performing any destructive, critical, or potentially risky actions. ALWAYS use for: 1) Deletions of files or data, 2) Major refactoring that affects multiple files, 3) Security-sensitive changes, 4) Database schema modifications, 5) Configuration changes that could break the system. Always explain the action clearly and potential consequences.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "confirm",
        "icon": "$(warning)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "description": "Description of the action to confirm"
            },
            "details": {
              "type": "string",
              "description": "Additional details about the action"
            }
          },
          "required": [
            "action"
          ]
        }
      },
      {
        "name": "ask-me-copilot-tool_readImage",
        "displayName": "üñºÔ∏è Read Image",
        "userDescription": "Read and analyze an image file from the workspace",
        "modelDescription": "Use this tool to read and analyze image files from the user's project. Supports image compression to reduce context size. Use cases: 1) Analyzing UI mockups to implement designs, 2) Reading architecture diagrams or flowcharts, 3) Viewing screenshots for debugging, 4) Inspecting icons, logos, graphics. COMPRESSION OPTIONS: Use 'quality' (1-100, default 100) to compress - lower = smaller file. Use 'maxWidth'/'maxHeight' to resize large images. Example: {filePath: 'mockup.png', quality: 50, maxWidth: 800} - compresses to 50% quality and max 800px wide. Compression can be disabled in settings.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "image",
        "icon": "$(file-media)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "filePath": {
              "type": "string",
              "description": "Path to the image file (relative to workspace root or absolute path). Supports: PNG, JPEG, GIF, WebP, BMP, SVG, ICO"
            },
            "description": {
              "type": "string",
              "description": "Optional description of what you're looking for in the image or why you need to see it"
            },
            "quality": {
              "type": "number",
              "minimum": 1,
              "maximum": 100,
              "description": "Image quality 1-100. 100 = original quality (no compression), lower values = more compression. Default: 100 (no compression). Use 50-80 for good balance of quality and size."
            },
            "maxWidth": {
              "type": "number",
              "minimum": 1,
              "description": "Maximum width in pixels. If image is wider, it will be proportionally resized. Useful for large screenshots/mockups."
            },
            "maxHeight": {
              "type": "number",
              "minimum": 1,
              "description": "Maximum height in pixels. If image is taller, it will be proportionally resized. Useful for long screenshots."
            }
          },
          "required": [
            "filePath"
          ]
        }
      },
      {
        "name": "ask-me-copilot-tool_checkTaskStatus",
        "displayName": "üìä Check Task Status",
        "userDescription": "Check for messages from expert, pause state, or if expert consultation is requested",
        "modelDescription": "IMPORTANT: Call this tool frequently during your work to check for expert feedback. This tool: 1) Returns any pending messages from the expert that were queued while you were working, 2) Blocks execution if expert has paused you (waits until unpause), 3) Indicates if expert wants to be consulted (you should then call askExpert). Call this tool: after completing significant steps, before starting new major tasks, when you're about to make decisions. The tool will return messages from the expert that you should incorporate into your work.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "status",
        "icon": "$(sync)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "reason": {
              "type": "string",
              "description": "Optional reason for checking status (e.g., 'completed file edit', 'before refactoring')"
            }
          },
          "required": []
        }
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run bundle:production",
    "compile": "tsc -p ./",
    "bundle": "node esbuild.js",
    "bundle:production": "node esbuild.js --production",
    "bundle:watch": "node esbuild.js --watch",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "lint:fix": "eslint src --ext ts --fix",
    "test": "npm run compile && vscode-test",
    "test:unit": "npm run compile && vscode-test --grep 'Unit Tests'",
    "test:integration": "npm run compile && vscode-test --grep 'Integration Tests'",
    "test:mcp": "npm run compile && vscode-test --grep 'MCP Integration Tests'",
    "test:all": "npm run compile && npm run test:unit && npm run test:integration && npm run test:mcp",
    "test:watch": "npm run compile && vscode-test --watch",
    "test:coverage": "npm run compile && c8 vscode-test",
    "clean": "rimraf out *.vsix",
    "clean:install": "npm run clean && npm ci",
    "build": "npm run clean && npm run compile",
    "build:production": "npm run clean && npm run compile && npm run lint && npm run test:all",
    "package": "vsce package",
    "package:pre-release": "vsce package --pre-release",
    "publish": "vsce publish",
    "publish:pre-release": "vsce publish --pre-release",
    "validate": "vsce package --no-dependencies && echo 'Package validation successful'",
    "ci:prepare": "npm ci && npm run compile",
    "ci:test": "npm run lint && npm run test:all",
    "ci:package": "npm run validate",
    "dev:setup": "npm install && npm run compile && npm run test",
    "security:audit": "npm audit --audit-level=moderate",
    "security:fix": "npm audit fix",
    "deps:check": "npm outdated",
    "deps:update": "npm update",
    "release:patch": "npm version patch && npm run package",
    "release:minor": "npm version minor && npm run package",
    "release:major": "npm version major && npm run package"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "^24.5.2",
    "@types/sinon": "^17.0.4",
    "@types/vscode": "^1.106.1",
    "@typescript-eslint/eslint-plugin": "^8.44.0",
    "@typescript-eslint/parser": "^8.44.0",
    "@vscode/test-cli": "^0.0.11",
    "@vscode/test-electron": "^2.5.2",
    "@vscode/vsce": "^3.6.0",
    "c8": "^10.1.3",
    "esbuild": "^0.27.1",
    "eslint": "^9.35.0",
    "mocha": "^11.7.2",
    "rimraf": "^6.0.1",
    "sinon": "^21.0.0",
    "typescript": "^5.9.2"
  },
  "dependencies": {
    "jimp": "^1.6.0"
  }
}
